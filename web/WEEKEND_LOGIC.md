# ì£¼ë§ ì‹œê·¸ë„ ìœ ì§€ ë¡œì§

## ë¬¸ì œ
- ê¸ˆìš”ì¼ì— ìƒì„±ëœ ì‹œê·¸ë„ì´ ë‹¤ìŒë‚ (í† ìš”ì¼) ì‚¬ë¼ì§
- ì‹¤ì œë¡œ ê±°ë˜ëŠ” ì›”ìš”ì¼ì— í•´ì•¼ í•˜ëŠ”ë° ì‹œê·¸ë„ì´ ì—†ìŒ

## í•´ê²° ë°©ë²•

### 1. Signal Generator - `get_next_trading_day()`

ê¸ˆìš”ì¼ 4:05 PMì— ì‹œê·¸ë„ ìƒì„± ì‹œ:
```python
def get_next_trading_day(self):
    """ë‹¤ìŒ ê±°ë˜ì¼ ê³„ì‚° (ì£¼ë§ ê±´ë„ˆë›°ê¸°)"""
    today = datetime.now()
    next_day = today + timedelta(days=1)

    # ì£¼ë§ì´ë©´ ì›”ìš”ì¼ë¡œ
    while next_day.weekday() >= 5:  # 5=í† , 6=ì¼
        next_day += timedelta(days=1)

    return next_day.strftime('%Y-%m-%d')
```

**ì˜ˆì‹œ:**
- ê¸ˆìš”ì¼ (weekday=4) â†’ í† ìš”ì¼(5) â†’ ì¼ìš”ì¼(6) â†’ **ì›”ìš”ì¼(0)** âœ“

### 2. Trade Date ì„¤ì •

```python
signals_save['signal_date'] = today              # ê¸ˆìš”ì¼
signals_save['trade_date'] = next_trading_day    # ì›”ìš”ì¼!
```

### 3. ì›¹ ëŒ€ì‹œë³´ë“œ í‘œì‹œ

`signals_today.csv`:
- ê¸ˆìš”ì¼ 4:05 PMì— ìƒì„±
- í† ìš”ì¼: signals_today.csv **ê·¸ëŒ€ë¡œ ìœ ì§€**
- ì¼ìš”ì¼: signals_today.csv **ê·¸ëŒ€ë¡œ ìœ ì§€**
- ì›”ìš”ì¼ 4:05 PM: ìƒˆ ì‹œê·¸ë„ë¡œ ì—…ë°ì´íŠ¸

### 4. ìŠ¤ì¼€ì¤„ëŸ¬ ë™ì‘

```python
def is_market_day():
    today = datetime.now().weekday()
    return today < 5  # ì›”~ê¸ˆë§Œ ì‹¤í–‰

# í† ìš”ì¼/ì¼ìš”ì¼
if not is_market_day():
    logger.info("Weekend detected. Skipping daily process.")
    return  # ì•„ë¬´ê²ƒë„ ì•ˆ í•¨ â†’ signals_today.csv ìœ ì§€!
```

## ì „ì²´ íƒ€ì„ë¼ì¸

### ê¸ˆìš”ì¼ (10ì›” 18ì¼) 4:05 PM
```
âœ… ì‹œê·¸ë„ ìƒì„±
   signal_date: 2025-10-18
   trade_date: 2025-10-21 (ì›”ìš”ì¼!)

âœ… signals_today.csv ì €ì¥:
   RGTI, 97.2%, trade_date=2025-10-21
   IONQ, 96.8%, trade_date=2025-10-21
```

### í† ìš”ì¼ (10ì›” 19ì¼)
```
â­ï¸ ìŠ¤ì¼€ì¤„ëŸ¬: ì£¼ë§ ê°ì§€ â†’ ìŠ¤í‚µ
ğŸ“„ signals_today.csv: ê·¸ëŒ€ë¡œ ìœ ì§€
ğŸŒ ì›¹ì‚¬ì´íŠ¸: ê¸ˆìš”ì¼ ì‹œê·¸ë„ ê³„ì† í‘œì‹œ
```

### ì¼ìš”ì¼ (10ì›” 20ì¼)
```
â­ï¸ ìŠ¤ì¼€ì¤„ëŸ¬: ì£¼ë§ ê°ì§€ â†’ ìŠ¤í‚µ
ğŸ“„ signals_today.csv: ê·¸ëŒ€ë¡œ ìœ ì§€
ğŸŒ ì›¹ì‚¬ì´íŠ¸: ê¸ˆìš”ì¼ ì‹œê·¸ë„ ê³„ì† í‘œì‹œ
```

### ì›”ìš”ì¼ (10ì›” 21ì¼) 9:30 AM
```
ğŸ’° ê±°ë˜ ì‹¤í–‰!
   - RGTI ì‹œê°€ ë§¤ìˆ˜
   - IONQ ì‹œê°€ ë§¤ìˆ˜
```

### ì›”ìš”ì¼ (10ì›” 21ì¼) 4:00 PM
```
ğŸ’° ê±°ë˜ ì¢…ë£Œ!
   - RGTI ì¢…ê°€ ë§¤ë„
   - IONQ ì¢…ê°€ ë§¤ë„
```

### ì›”ìš”ì¼ (10ì›” 21ì¼) 4:05 PM
```
âœ… 1. ê¸ˆìš”ì¼ ì‹œê·¸ë„ ì¶”ì  â†’ ê²°ê³¼ ê¸°ë¡
âœ… 2. í†µê³„ ì—…ë°ì´íŠ¸
âœ… 3. í™”ìš”ì¼ ì‹œê·¸ë„ ìƒì„±
âœ… 4. signals_today.csv ì—…ë°ì´íŠ¸ (ìƒˆ ì‹œê·¸ë„)
```

## í•µì‹¬ í¬ì¸íŠ¸

1. **ê¸ˆìš”ì¼ ì‹œê·¸ë„ = ì›”ìš”ì¼ ê±°ë˜**
   - `trade_date`ê°€ ìë™ìœ¼ë¡œ ì›”ìš”ì¼ë¡œ ì„¤ì •ë¨

2. **ì£¼ë§ì—” ì•„ë¬´ê²ƒë„ ì•ˆ í•¨**
   - ìŠ¤ì¼€ì¤„ëŸ¬ ìŠ¤í‚µ
   - íŒŒì¼ ê·¸ëŒ€ë¡œ ìœ ì§€
   - ì›¹ì‚¬ì´íŠ¸ëŠ” ê¸ˆìš”ì¼ ì‹œê·¸ë„ ê³„ì† í‘œì‹œ

3. **ì‚¬ìš©ì ì…ì¥**
   - ê¸ˆìš”ì¼ ì˜¤í›„: ì‹œê·¸ë„ í™•ì¸
   - ì£¼ë§: ì‹œê·¸ë„ ìœ ì§€ (ì–¸ì œ ë³´ë“  í‘œì‹œë¨)
   - ì›”ìš”ì¼ ì•„ì¹¨: ê¸ˆìš”ì¼ ì‹œê·¸ë„ë¡œ ê±°ë˜
   - ì›”ìš”ì¼ ì €ë…: ìƒˆ ì‹œê·¸ë„ í™•ì¸

## ì½”ë“œ ìˆ˜ì • ì™„ë£Œ âœ“

- âœ… `daily_signal_generator.py` - `get_next_trading_day()` ì¶”ê°€
- âœ… `scheduler.py` - `is_market_day()` ì²´í¬
- âœ… ê¸ˆìš”ì¼ â†’ ì›”ìš”ì¼ ìë™ ê³„ì‚°

## í…ŒìŠ¤íŠ¸ ë°©ë²•

ê¸ˆìš”ì¼ì— ìˆ˜ë™ ì‹¤í–‰:
```bash
python web/daily_runner.py
```

ì¶œë ¥ í™•ì¸:
```
Signal date: 2025-10-18 (ê¸ˆìš”ì¼)
Trade date: 2025-10-21 (ì›”ìš”ì¼)  â† í™•ì¸!
```
