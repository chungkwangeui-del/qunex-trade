# Multi-Timeframe AI Score System - ì™„ë²½ ê°€ì´ë“œ

## ğŸ“‹ ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [3ê°€ì§€ íƒ€ì„í”„ë ˆì„ ì„¤ëª…](#3ê°€ì§€-íƒ€ì„í”„ë ˆì„-ì„¤ëª…)
3. [ì‚¬ìš© ë°©ë²•](#ì‚¬ìš©-ë°©ë²•)
4. [ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­](#ê¸°ìˆ ì -ì„¸ë¶€ì‚¬í•­)
5. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

---

## ì‹œìŠ¤í…œ ê°œìš”

Multi-Timeframe AI Score ì‹œìŠ¤í…œì€ ì„œë¡œ ë‹¤ë¥¸ íˆ¬ì ê¸°ê°„ì— ìµœì í™”ëœ 3ê°œì˜ ë…ë¦½ì ì¸ ML ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì£¼ì‹ì„ í‰ê°€í•©ë‹ˆë‹¤.

### ì™œ 3ê°œì˜ ëª¨ë¸ì´ í•„ìš”í•œê°€?

ë‹¨ì¼ ëª¨ë¸ì€ ëª¨ë“  íˆ¬ì ìŠ¤íƒ€ì¼ì— ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:
- **ë°ì´ íŠ¸ë ˆì´ë”**: ê¸°ìˆ ì  ì§€í‘œ(RSI, MACD)ê°€ ì¤‘ìš”
- **ìŠ¤ìœ™ íŠ¸ë ˆì´ë”**: ê¸°ìˆ ì  + í€ë”ë©˜í„¸ ê· í˜•
- **ì¥ê¸° íˆ¬ìì**: í€ë”ë©˜í„¸(EPS ì„±ì¥, ROE)ì´ ì¤‘ìš”

ê° ëª¨ë¸ì€ í•´ë‹¹ íƒ€ì„í”„ë ˆì„ì— ë§ëŠ” íŠ¹ì§•ì— ê°€ì¤‘ì¹˜ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤.

---

## 3ê°€ì§€ íƒ€ì„í”„ë ˆì„ ì„¤ëª…

### 1. Short-term (5ì¼) - ë‹¨ê¸° íŠ¸ë ˆì´ë”©
**ëŒ€ìƒ**: ë°ì´ íŠ¸ë ˆì´ë”, ìŠ¤ìœ™ íŠ¸ë ˆì´ë”
**ì˜ˆì¸¡ ê¸°ê°„**: 1ì£¼ì¼ (5 ê±°ë˜ì¼)
**íŠ¹ì§• ê°€ì¤‘ì¹˜**:
- ê¸°ìˆ ì  ì§€í‘œ: 70%
  - RSI: 25%
  - MACD: 20%
  - ëª¨ë©˜í…€: 25%
- ë‰´ìŠ¤ ê°ì„±: 25%
- í€ë”ë©˜í„¸: 5%

**ì‚¬ìš© ì‹œê¸°**:
- âœ… ë¹ ë¥¸ ìˆ˜ìµ ì‹¤í˜„ì„ ì›í•  ë•Œ
- âœ… ë°ì´ íŠ¸ë ˆì´ë”©/ìŠ¤ìœ™ íŠ¸ë ˆì´ë”©
- âœ… ê¸°ìˆ ì  íŒ¨í„´ ê¸°ë°˜ ë§¤ë§¤

**ì˜ˆì‹œ**:
```
ë‹¨ê¸° ì ìˆ˜ 99 (Strong Buy) â†’ ì§€ê¸ˆ ë‹¹ì¥ ë§¤ìˆ˜ ì‹ í˜¸!
ë‹¨ê¸° ì ìˆ˜ 3 (Strong Sell) â†’ ë¹ ë¥´ê²Œ ì²­ì‚° ê³ ë ¤
```

### 2. Medium-term (20ì¼) - ì¤‘ê¸° í¬ì§€ì…˜
**ëŒ€ìƒ**: í¬ì§€ì…˜ íŠ¸ë ˆì´ë”
**ì˜ˆì¸¡ ê¸°ê°„**: 1ê°œì›” (20 ê±°ë˜ì¼)
**íŠ¹ì§• ê°€ì¤‘ì¹˜**:
- ê¸°ìˆ ì  ì§€í‘œ: 30%
- í€ë”ë©˜í„¸: 50%
  - EPS ì„±ì¥: 20%
  - ë§¤ì¶œ ì„±ì¥: 15%
  - ROE: 15%
- ë‰´ìŠ¤ ê°ì„±: 20%

**ì‚¬ìš© ì‹œê¸°**:
- âœ… ëª‡ ì£¼ ~ 1ê°œì›” ë³´ìœ  ê³„íš
- âœ… ê¸°ì—… ì‹¤ì  ë°œí‘œ ì „í›„
- âœ… ê· í˜•ì¡íŒ íˆ¬ì íŒë‹¨

**ì˜ˆì‹œ**:
```
ì¤‘ê¸° ì ìˆ˜ 81 (Strong Buy) â†’ 1ê°œì›” ë³´ìœ  ì „ëµ
ì¤‘ê¸° ì ìˆ˜ 39 (Sell) â†’ ì£¼ê°„ ë‹¨ìœ„ë¡œ ì²­ì‚° ê³ ë ¤
```

### 3. Long-term (60ì¼) - ì¥ê¸° íˆ¬ì
**ëŒ€ìƒ**: ì¥ê¸° íˆ¬ìì, ê°€ì¹˜ íˆ¬ìì
**ì˜ˆì¸¡ ê¸°ê°„**: 3ê°œì›” (60 ê±°ë˜ì¼)
**íŠ¹ì§• ê°€ì¤‘ì¹˜**:
- í€ë”ë©˜í„¸: 90%
  - EPS ì„±ì¥: 30%
  - ë§¤ì¶œ ì„±ì¥: 25%
  - ROE: 20%
  - P/E ë¹„ìœ¨: 15%
- ê¸°ìˆ ì  ì§€í‘œ: 5%
- ë‰´ìŠ¤ ê°ì„±: 5%

**ì‚¬ìš© ì‹œê¸°**:
- âœ… ìˆ˜ê°œì›” ì´ìƒ ì¥ê¸° ë³´ìœ 
- âœ… ê¸°ì—… ê°€ì¹˜ì— ì§‘ì¤‘
- âœ… ë‹¨ê¸° ë³€ë™ì„± ë¬´ì‹œ

**ì˜ˆì‹œ**:
```
ì¥ê¸° ì ìˆ˜ 74 (Buy) â†’ 3ê°œì›” ì´ìƒ ë³´ìœ  ê¶Œì¥
ì¥ê¸° ì ìˆ˜ 48 (Hold) â†’ í€ë”ë©˜í„¸ì€ ì•ˆì •ì , ê´€ë§
```

---

## ì‚¬ìš© ë°©ë²•

### ì¼€ì´ìŠ¤ 1: ë‹¨ê¸° ìˆ˜ìµ ì›í•¨
```python
# ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ
ai_score = AIScore.query.filter_by(ticker='AAPL').first()

if ai_score.short_term_score >= 75:
    print("ë‹¨ê¸° ë§¤ìˆ˜ ì‹ í˜¸! 1ì£¼ì¼ ë³´ìœ  ëª©í‘œ")
elif ai_score.short_term_score <= 25:
    print("ë‹¨ê¸° ë§¤ë„ ì‹ í˜¸! ë¹ ë¥´ê²Œ ì²­ì‚°")
```

### ì¼€ì´ìŠ¤ 2: ì–¸ì œ íŒ”ì§€ ëª¨ë¥¼ ë•Œ
**3ê°€ì§€ ì ìˆ˜ë¥¼ í•¨ê»˜ ë´ì•¼ í•©ë‹ˆë‹¤!**

#### ì‹œë‚˜ë¦¬ì˜¤ A: ëª¨ë“  íƒ€ì„í”„ë ˆì„ Strong Buy
```
Short: 95 (Strong Buy)
Medium: 85 (Strong Buy)
Long: 78 (Strong Buy)
â†’ ê°•ë ¥í•œ ë§¤ìˆ˜ ì‹ í˜¸! ì¥ê¸° ë³´ìœ í•˜ë©´ì„œ ë‹¨ê¸° ë³€ë™ì„± í™œìš©
```

#### ì‹œë‚˜ë¦¬ì˜¤ B: ë‹¨ê¸°ë§Œ Strong Buy
```
Short: 99 (Strong Buy)
Medium: 60 (Buy)
Long: 48 (Hold)
â†’ ë‹¨ê¸° ìˆ˜ìµ ì‹¤í˜„ í›„ ì²­ì‚°. ì¥ê¸° ë³´ìœ ëŠ” ìœ„í—˜
```

#### ì‹œë‚˜ë¦¬ì˜¤ C: ì¥ê¸°ë§Œ Strong Buy
```
Short: 40 (Hold)
Medium: 55 (Hold)
Long: 82 (Strong Buy)
â†’ ì¥ê¸° íˆ¬ì ê°€ì¹˜ ìˆìŒ. ë‹¨ê¸° í•˜ë½ì€ ë§¤ìˆ˜ ê¸°íšŒ
```

#### ì‹œë‚˜ë¦¬ì˜¤ D: ì ìˆ˜ í•˜ë½ ì¶”ì„¸
```
ì²˜ìŒ: Short=80, Medium=75, Long=70
ë‚˜ì¤‘: Short=40, Medium=50, Long=65
â†’ ë‹¨ê¸°ë¶€í„° ì•½ì„¸! ì¤‘ê¸°ë„ í•˜ë½ ì¤‘. ë§¤ë„ íƒ€ì´ë°!
```

### ì¼€ì´ìŠ¤ 3: APIë¡œ ëª¨ë“  ì ìˆ˜ ì¡°íšŒ
```python
from ml.ai_score_system import MultiTimeframeAIScoreModel

# ëª¨ë¸ ë¡œë“œ
multi_model = MultiTimeframeAIScoreModel(model_dir="ml/models")
multi_model.load_all_models()

# ì˜ˆì¸¡
features = {...}  # ì£¼ì‹ íŠ¹ì§• ë°ì´í„°
scores = multi_model.predict_all_timeframes(features)
ratings = multi_model.get_ratings(scores)

print(f"Short: {scores['short_term_score']} - {ratings['short_term_rating']}")
print(f"Medium: {scores['medium_term_score']} - {ratings['medium_term_rating']}")
print(f"Long: {scores['long_term_score']} - {ratings['long_term_rating']}")
```

---

## ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
```sql
-- ai_scores í…Œì´ë¸”
CREATE TABLE ai_scores (
    id INTEGER PRIMARY KEY,
    ticker VARCHAR(10) UNIQUE NOT NULL,

    -- Medium-term (ê¸°ë³¸)
    score INTEGER NOT NULL,
    rating VARCHAR(20) NOT NULL,

    -- Short-term
    short_term_score INTEGER,
    short_term_rating VARCHAR(20),

    -- Long-term
    long_term_score INTEGER,
    long_term_rating VARCHAR(20),

    features_json TEXT,
    explanation_json TEXT,
    updated_at DATETIME
);
```

### ML ëª¨ë¸ íŒŒì¼
```
ml/models/
â”œâ”€â”€ ai_score_model_5d.pkl    # Short-term model (5-day)
â”œâ”€â”€ ai_score_model_20d.pkl   # Medium-term model (20-day)
â””â”€â”€ ai_score_model_60d.pkl   # Long-term model (60-day)
```

### í•™ìŠµ ë°ì´í„°
ê° ëª¨ë¸ì€ 2000ê°œì˜ í•©ì„± ìƒ˜í”Œë¡œ í•™ìŠµë¨:
- **Short-term**: 45.5% ì •í™•ë„ (ë†’ì€ ë…¸ì´ì¦ˆë¡œ ì¸í•´)
- **Medium-term**: 56.8% ì •í™•ë„ (ê· í˜•ì¡íŒ ì‹ í˜¸)
- **Long-term**: 79.0% ì •í™•ë„ (í€ë”ë©˜í„¸ì´ ëª…í™•)

### GitHub Actions ì›Œí¬í”Œë¡œìš°
ë§¤ì¼ ìì •(UTC)ì— ìë™ ì‹¤í–‰:
1. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
2. 3ê°œ ëª¨ë¸ í•™ìŠµ
3. 20ê°œ ì£¼ì‹ ì ìˆ˜ ì—…ë°ì´íŠ¸ (API ì œí•œìœ¼ë¡œ)
4. ëª¨ë“  íƒ€ì„í”„ë ˆì„ ì ìˆ˜ ì €ì¥

---

## ë¬¸ì œ í•´ê²°

### Q1: ëª¨ë¸ì´ ë¡œë“œë˜ì§€ ì•ŠìŒ
```bash
# ëª¨ë¸ ì¬í•™ìŠµ
python scripts/train_multiframe_models.py

# í…ŒìŠ¤íŠ¸
python scripts/test_multiframe_system.py
```

### Q2: ë°ì´í„°ë² ì´ìŠ¤ì— ì»¬ëŸ¼ì´ ì—†ìŒ
```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
python scripts/migrate_add_multiframe_scores.py
```

### Q3: ì ìˆ˜ê°€ Noneìœ¼ë¡œ í‘œì‹œë¨
- ì›ì¸: ëª¨ë¸ ë¡œë“œ ì‹¤íŒ¨ ë˜ëŠ” íŠ¹ì§• ë°ì´í„° ë¶€ì¡±
- í•´ê²°: ë¡œê·¸ í™•ì¸ í›„ ëª¨ë¸ ì¬í•™ìŠµ

### Q4: ë‹¨ê¸°/ì¥ê¸° ì ìˆ˜ê°€ ë„ˆë¬´ ë‹¤ë¦„
- **ì •ìƒì…ë‹ˆë‹¤!** ì´ê²ƒì´ ì‹œìŠ¤í…œì˜ ëª©ì ì…ë‹ˆë‹¤.
- ë‹¨ê¸°ëŠ” ê¸°ìˆ ì  ì§€í‘œì— ë¯¼ê°
- ì¥ê¸°ëŠ” í€ë”ë©˜í„¸ì— ì§‘ì¤‘

### Q5: ì–´ë–¤ ì ìˆ˜ë¥¼ ë¯¿ì–´ì•¼ í•˜ë‚˜?
íˆ¬ì ìŠ¤íƒ€ì¼ì— ë”°ë¼:
- **ë°ì´ íŠ¸ë ˆì´ë”**: Short-term ì ìˆ˜
- **ìŠ¤ìœ™ íŠ¸ë ˆì´ë”**: Short + Medium ì ìˆ˜
- **ì¥ê¸° íˆ¬ìì**: Medium + Long ì ìˆ˜

---

## ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- **ì½”ë“œ**: `ml/ai_score_system.py`
- **í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸**: `scripts/train_multiframe_models.py`
- **í…ŒìŠ¤íŠ¸**: `scripts/test_multiframe_system.py`
- **í¬ë¡  ì—…ë°ì´íŠ¸**: `scripts/cron_update_ai_scores.py`

---

## ì˜ˆì‹œ: ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### ì‚¬ë¡€ 1: TSLA (í…ŒìŠ¬ë¼)
```
ì‹œë‚˜ë¦¬ì˜¤: ì‹¤ì  ë°œí‘œ ì§ì „

Short: 88 (Strong Buy) â† ê¸°ìˆ ì ìœ¼ë¡œ ìƒìŠ¹ ëª¨ë©˜í…€
Medium: 65 (Buy) â† ì‹¤ì  ê¸°ëŒ€ê°
Long: 45 (Hold) â† ë°¸ë¥˜ì—ì´ì…˜ ë¶€ë‹´

ì „ëµ:
â†’ ì‹¤ì  ë°œí‘œ ì „ ë‹¨ê¸° ë§¤ìˆ˜
â†’ ë°œí‘œ í›„ ê²°ê³¼ ë³´ê³  Medium ì ìˆ˜ ì¬í™•ì¸
â†’ ì¥ê¸° ë³´ìœ ëŠ” ì‹ ì¤‘
```

### ì‚¬ë¡€ 2: AAPL (ì• í”Œ)
```
ì‹œë‚˜ë¦¬ì˜¤: ì•ˆì •ì ì¸ ëŒ€í˜•ì£¼

Short: 55 (Hold) â† ë‹¨ê¸° íš¡ë³´
Medium: 72 (Buy) â† í€ë”ë©˜í„¸ ì–‘í˜¸
Long: 80 (Strong Buy) â† ì¥ê¸° ê°€ì¹˜ ìš°ìˆ˜

ì „ëµ:
â†’ ë‹¨ê¸° ê¸‰ë“±/ê¸‰ë½ì— ì‹ ê²½ ì•ˆì”€
â†’ ì¥ê¸° ë³´ìœ  ì „ëµ
â†’ í•˜ë½ì‹œ ì¶”ê°€ ë§¤ìˆ˜ ê¸°íšŒ
```

### ì‚¬ë¡€ 3: ì†Œí˜•ì£¼ ê¸‰ë“±
```
ì‹œë‚˜ë¦¬ì˜¤: ë‰´ìŠ¤ë¡œ ì¸í•œ ê¸‰ë“±

Short: 95 (Strong Buy) â† ë‰´ìŠ¤ ëª¨ë©˜í…€
Medium: 40 (Hold) â† í€ë”ë©˜í„¸ í‰ë²”
Long: 25 (Sell) â† ë°¸ë¥˜ì—ì´ì…˜ ê³¼ëŒ€

ì „ëµ:
â†’ ë‹¨ê¸° ìˆ˜ìµ ì‹¤í˜„ë§Œ ë…¸ë¦¼
â†’ ë¹ ë¥¸ ìµì ˆ/ì†ì ˆ
â†’ ì¥ê¸° ë³´ìœ  ì ˆëŒ€ ê¸ˆì§€
```

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-01-15
**ë²„ì „**: 1.0
**ì‘ì„±ì**: Qunex Trading System
